---
import { getCollection } from "astro:content";
import BaseLayout from "../layout/BaseLayout.astro";

const teamData = await getCollection("team");
const posts = await getCollection("posts");
const cats = await getCollection("cats");
const toml = await getCollection("toml");
const todos = await getCollection("todos");
---

<BaseLayout>
  <h1>Homepage</h1>
  <section>
    <h2>Team</h2>
    <ul>
      {
        teamData.map((member) => (
          <li>
            {member.data.name}
          </li>
        ))
      }
    </ul>
  </section>
  <section>
    <h2>Posts</h2>
    <ul>
      {
        posts.map((post) => (
          <li>
            {post.data.title}
          </li>
        ))
      }
    </ul>
  </section>
  <section>
    <h2>Cats</h2>
    <p>Found {cats.length} cats</p>
  </section>
  <section>
    <h2>Toml</h2>
    <p>Found {toml.length} toml entries</p>
  <section>
    <h2>Todos</h2>
    <ul>
      {
        todos.map(t => (
          <li>
            {t.data.title}
          </li>
        ))
      }
    </ul>
  </section>
</BaseLayout>
